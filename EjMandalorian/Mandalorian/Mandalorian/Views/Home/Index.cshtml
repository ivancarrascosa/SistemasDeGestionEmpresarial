@model Domain.DTOs.ListaMisionesConMisionElegida
@{
    ViewData["Title"] = "Home Page";
    var listaMisiones = Model.ListaMisiones;
    var misionElegida = Model.MisionElegida;
}

<h2>@ViewData["Title"]</h2>

<form method="post" asp-action="Seleccionar">
    
    @if (ViewBag.errorMessage != "")
    {
        <h2>@ViewBag.errorMessage</h2>
    } else
    {
        <label for="misionId">Elige una misión:</label>
        <select id="misionId" name="misionId" class="form-control">
            <option value="">-- Selecciona una misión --</option>
            @foreach (var m in listaMisiones)
            {
                <option value="@m.Id">
                    @m.Nombre
                </option>
            }
        </select>

        <br />
        <button type="submit" class="btn btn-primary">Ver detalles</button>
        @if (misionElegida != null)
        {
            <div class="card mt-4">
                <div class="card-header bg-primary text-white">
                    <h3>Detalles de la Misión</h3>
                </div>
                <div class="card-body">
                    <h4 class="card-title">@misionElegida.Nombre</h4>
                    <hr />
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Recompensa:</strong> <span class="badge bg-success">@misionElegida.Recompensa créditos</span></p>
                        </div>
                    </div>
                    <div class="mt-3">
                        <p><strong>Descripción:</strong></p>
                        <p class="text-muted">@misionElegida.Descripcion</p>
                    </div>
                </div>
            </div>
        }
    }
    
</form>
